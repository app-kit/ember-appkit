<div class="admin-form">
	<div class="box box-primary">
		<div class="box-header with-border">
			{{#if title}}
			<div class="box-title">
				{{title}}
			</div>
			{{/if}}

			<div class="box-body">
				{{#if errors}}
				<div class="alert alert-danger">
					<ul>
						{{#each errors as |error|}}
						<li>
							{{error.message}}
							{{#if error.code}} ({{error.code}}){{/if}}
						</li>
						{{/each}}
					</ul>
				</div>
				{{/if}}

					{{#if hasBlock}}
						{{yield}}
					{{else}}

						{{#each fieldList as |field|}}

							{{#if field.component}}
								{{component field.component field=field model=model}}
							{{/if}}

							{{#unless field.component}}
								{{#if (eq field.type "string")}}
									{{em-input property=field.field label=field.label placeholder=field.placeholder}}
								{{/if}}

								{{#if (eq field.type "boolean")}}
									{{em-checkbox label=field.label property=field.field}}
								{{/if}}

								{{#if (eq field.type "relationship")}}
									{{app-form-relationship model=model field=field.field label=field.label}}
								{{/if}}
							{{/unless}}

						{{/each}}

					{{/if}}

			</div>
		</div> <!-- ./.box-body -->

		<div class="box-footer">
			{{#if loading}}
			<div class="" style="position: relative;">
				{{ember-spinner}}
			</div>
			{{else}}
			
			{{#if cancelLabel}}
			<button class="btn btn-default" {{action "formCancelled" }}>{{cancelLabel}}</button>
			{{/if}}

			{{#if submitLabel}}
			<button class="btn btn-default" {{action "submit"}}>{{submitLabel}}</button>	
			{{/if}}

			{{/if}}
		</div>
	</div>  <!-- ./.box -->

</div> <!-- ./.admin-form -->
